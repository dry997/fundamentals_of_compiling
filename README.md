**编译原理实验（hust）**

**实验1：词法分析器的设计与实现**

任务1：编写生成词法分析程序的文件lex.l。 由平台自动使用Flex对lex.l进行编译，生成词法分析程序的源程文件lex.yy.c，并使用GCC进行编译得到词法分析程序的可执行文件 以二元组的方式显示源程序中的单词，遇到错误字符，显示错误信息。

任务2：依据自动机原理，用C/C++编写生成词法分析程序。 以二元组的方式显示源程序中的单词，遇到错误字符，显示错误信息

**实验2：语法分析器的设计与实现**

任务：设计一个简单语言的词法分析器、语法分析器，并显示抽象语法树。 编写生成词法、语法分析程序的文件lex.l和parser.y以及显示语法树的程序displayAST.c,另外可在头文件def.h中定义相关类型（如语法树结点类型），供parser.y和displayAST.c使用。

**实验3：符号表管理和语义检查与解释执行**

任务：在完成了实验2语法分析，建立了语法树的基础上，编写程序，遍历语法树，建立简单的符号表，包含变量名，类型（仅限整型和单精度浮点）和变量值。在遍历过程中完成源程序的解释执行。

注：在遍历语法树过程中，可以做如下处理：

（1）遇到对变量的赋值和输入操作，需要对符号表进行处理，如果是变量的第一次赋值，则在符号表中增加该变量名、类型、值等；如果符号表中已有该变量，则更新变量的类型和值等。不用考虑一般高级语言的多作用域问题。

（2）遇到变量的输入，类似变量的赋值操作，在符号表中管理符号，并依据输入的数据形式确定变量的类型。例如输入12，则变量为整型，输入1.2，则变量为浮点型。

（3）遇到算术运算符结点时，完成相应的计算。如果操作数类型不同，转化成浮点后进行运算。例如：3/2结果是整型1，3.0/2结果是浮点1.500000。

（4）使用未定义变量计算报语义错误。例如a=b+100，如果符号表中没有定义b，则报语义错误；当符号表中没有a时，依据（1），即在符号表中会增加变量a的定义，有a的定义，就更新符号表中a的属性。

（5）其它有关细节详见平台上的说明和测试样例。

**(实验代码仍有瑕疵，但可以过大部分测试)**
